title: Install with ContainerShip

{% extends "install.html" %}

{% block install_content %}

<div class="row">
  <div class="col-lg-12">
    <p class="lead"><a href="http://containership.io/" target="_blank">ContainerShip</a> allows you to configure a hosting stack by combining your own Docker images with their library of software and third party integrations. Effortlessly manage, deploy, and scale across any number of providers. Detach a cluster from our service at any time and use the open source core system on your own.

    </p>
    <h2>Connect Hosting</h2>
    <p>
      First, from the <i>Providers -> Hosting</i> menu, connect your hosting accounts. The current options are AWS, Digital Ocean, Joyent, Packet and Rackspace.
    </p>
    <img class="img-responsive thumbnail" src="{% media '/media/1508/cos-providers.png' %}" />

    <h2>Create Cluster</h2>
    <p>
      Next we need to create our cluster, the VMs that our Crate cluster will be added to. Click on the <i>Infrastructure -> Clusters</i> menu and then the 'Create Cluster' button in the top right of the dashboard screen. Select your hosting provider and the appropriate configuration options for region, authentication and memory/cpu.
    </p>
    <img class="img-responsive thumbnail" src="{% media '/media/1508/cos-menu.png' %}" />

    <img class="img-responsive thumbnail" src="{% media '/media/1508/cos-create-cluster.png' %}" />

    <p>ContainerShip uses the concept of 'Leaders' and 'Followers', that handle management of containers and applications and the actual containers and applications respectively. Read more about these concepts in <a href="https://docs.containership.io/v0.2.4/docs/terminology" target="_blank">ContainerShip's documentation</a>.</p>
    <h2>Create Application</h2>
    <p>
      After a few minutes waiting for the cluster to come online, we can create our Application, the Crate cluster. Open your cluster admin page and scroll down to the green 'New Application' button. As ContainerShip have made Crate available in their marketplace, click the 'From Marketplace' button and click 'Add to Cluster' underneath Crate from the following screen.
    </p>
    <p>
      Choose the cluster you wish to install Crate in and set its memory and CPU options. You should now see Crate listed underneath the 'Applications' section, it will be set up on the follower Hosts, so two nodes. Copy one of the Follower Host IP addresses, and open it in a browser with <i>:4200/admin</i> appended and you will see the Crate admin UI.
    </p>
    <img class="img-responsive thumbnail" src="{% media '/media/1508/cos-add-crate.png' %}" />
    <h2>Scaling</h2>

    <p>
      There are two methods for scaling your cluster with ContainerShip, the number of containers per VM, or the number of VMs.</p>
      <p>
        To increase the number of VMs, simply click the 'Scale' button in the 'Follower Hosts' section on the <i>Cluster</i> page and increase the number of hosts.
      </p>
      <p>
        To increase the number of containers per VM, open <i>Infrastructure -> Applications</i>, click on <i>Crate</i> and change the 'constraints.per_host' tag by removing and re-adding it. This will cause an automatic redistribution of VMs and containers.
      </p>
    </p>
    <h2>Conclusion</h2>
    <p>
      This is a simple 'getting started' guide to getting Crate running on ContainerShip and we suggest you read their <a href="https://docs.containership.io/" target="_blank">documentation</a> to get a further idea on what options are available such as using environment variables, a command line interface, tags available and much more.
    </p>
    <h2>Further Reading</h2>
    <ul>
      <li><a href="{% url '/docker/index.html' %}">Docker</a></li>
      <li><a href="{% url '/docker/machine.html' %}">Docker Machine</a></li>
      <li><a href="http://weaveblog.com/2015/01/07/crate-with-docker-weave/">Crate with Docker &amp; Weave</a></li>
      <li><a href="{% url '/install/cloud/gce.html' %}">Crate &amp; Google Compute Engine</a></li>
    </ul>

  </div>
</div>

{% endblock %}
